---
#-------------------------------------------------------------------------------
#   CONFIGURE FULL 112 WORKSTATIONS OS Version 1703
#
#   Copyfile (c) by AGO
#-------------------------------------------------------------------------------

- name:           CONFIGURE FULL 112 WORKSTATIONS OS 1703
  hosts:          new_pc

  vars:
   ws_name:       Introduceti ws HOSTNAME -> WS-ZZ-YY
   reg_path:      HKLM:\System\CurrentControlSet\Control\Terminal Server
   ou_path:       "OU=112,OU=Workstations,OU=Moldova Primary,DC=112MD,DC=local"
   chrome_url:    ftp://file-server/GoogleChromeStandaloneEnterprise64.msi
   shell_cmd:     echo y | gpupdate /force
   def_password:  !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63653065626133356265613633373932346335323662663433323863386633393766376466666532
          3436623465333562613333383332646536386634643335380a653865663037613732363566666365
          35383362303765666233636532393363616361386662313938653537653131616431303662383833
          3765313333643031620a633532303037306233393262656436306538383634646334663430373032
          3731
   dc_password:   !vault |
          $ANSIBLE_VAULT;1.1;AES256
          62656135363032396632636263373464656466383532303964326336646539326538343765343830
          6139656463313632373663373266626538316338333962330a633930363038393261316363633239
          66316434393130396537363236386233383331396638323337646232313961663039653764356565
          6335313831346339630a626634373735376361663135643335666265356364346664323564333163
          3231
  vars_prompt:
  - name:         hostname
    prompt:       "{{ ws_name }}"
    private:      no
#-------------------------------------------------------------------------------
#-------------------------------------------------------------------------------
  tasks:
    - name:       ====== WINDOWS regedit TWICK ======
      include:    install/regedit_twick.yml
    - name:       ====== WINDOWS PS TWICK ======
      include:    install/powershell_twick.yml
    - name:       ====== APP INSTALL ======
      include:    install/app_install.yml
    - name:       ====== ADD PC to DOMAIN ======
      include:    install/domain-add.yml
    - name:       ====== LANGUAGE APPLY ======
      include:    install/language.yml
    - name:       ====== MSMQ INSTALL ======
      include:    install/msmq_install.yml
    - name:       ====== POWER PLAN ======
      include:    install/power-plan.yml
    - name:       ====== RDP and FIREWALL disable ======
      include:    install/rdp_firewall_disable.yml
    - name:       ====== TIMEZONE ======
      include:    install/timezone.yml
    - name:       ====== POLICY and REBOOT ======
      include:    install/update-policy_reboot.yml
